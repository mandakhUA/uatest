{% load static %} 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>receipt</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    </script><script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<body>
    receipt
    <div id="root"></div>
    
    <script src="{% static 'check1.js' %}"></script>

    <script type="text/babel">    
        const {useState} = React
        

  
       
        function NumInputComp(){
          const [num, setNum] = useState("");
          const [msg, setMsg] = useState("");
          function initmsg(d){
            let m = []
            if (d.cards && d.cards.length === 0)
                  m.push(  <span>msg энэ дугаар дээр бүртгэлтэй карт олдсонгүй. </span>)
            else if (d.cards.length > 0){
                  m.push(  <span> {d.cards[0].cons.length} cards oldloo. cards: <a href={`card?id=${d.cards[0]._id['$oid']}`} target="_blank">{d.cards[0]._id['$oid']}</a></span> )
                  if (d.cards[0].cons.length === 0){m.push( <span> msg: энэ дугаар дээр бүртгэлтэй хэр олдсонгүй. </span>)}
                  else if (d.cards[0].cons.length > 0){
                    m.push(<span> {d.cards[0].cons.length} cons oldloo. cons: <a href={`main?id=${d.cards[0].cons[0]._id}`} target="_blank">{d.cards[0].cons[0]._id}</a> </span>)
                  }
            }
            setMsg(m)
          }
          return <div>
            <input type='text' name='num' value={num} placeholder='num' onChange={(e) => {setNum(e.target.value)}}/>            
            <input type="button" value="[]" onClick={()=>check_num(num,  initmsg)}/> 
            {msg}
          </div>
        }
        function MobileInputComp(){
          const [mobile, setMobile] = useState("");
          const [msg, setMsg] = useState("");
          function initmsg(d){
            let m = []
            if (d.cards && d.cards.length === 0)
                  m.push(  <span>msg энэ дугаар дээр бүртгэлтэй карт олдсонгүй. </span>)
            else if (d.cards.length > 0){
                  m.push(  <span> {d.cards[0].cons.length} cards oldloo. cards: <a href={`card?id=${d.cards[0]._id['$oid']}`} target="_blank">{d.cards[0]._id['$oid']}</a></span> )
                  if (d.cards[0].cons.length === 0){m.push( <span> msg: энэ дугаар дээр бүртгэлтэй хэр олдсонгүй. </span>)}
                  else if (d.cards[0].cons.length > 0){
                    m.push(<span> {d.cards[0].cons.length} cons oldloo. cons: <a href={`main?id=${d.cards[0].cons[0]._id}`} target="_blank">{d.cards[0].cons[0]._id}</a> </span>)
                  }
            }
            setMsg(m)
          }
          return <div>
            <input type='text' name='num' value={num} placeholder='num' onChange={(e) => {setNum(e.target.value)}}/>            
            <input type="button" value="[]" onClick={()=>check_num(num,  initmsg)}/> 
            {msg}
          </div>
        }

        function MyApp() {
          var today = new Date();
          var cc = today.getFullYear() + '-' + ('0' + (today.getMonth() + 1)).slice(-2) + '-' + ('0' + today.getDate()).slice(-2);
            
            
            const [date, setDate] = useState(cc);
            const [billno, setBillno] = useState("test2750187872");
            const [spam, setSpam] = useState();
            const [bam, setBam] = useState();
            const [bp, setBp] = useState();
            const [ta, setTa] = useState();
            const [ca, setCa] = useState();
            const [terid, setTerid] = useState();
            const [internum, setInternum] = useState();

          return <div>
              <NumInputComp/>
              <MobileInputComp/>
            </div>
        
        }
  
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<MyApp />);
  
      </script>


    
</body>
</html>